using System;
using System.Collections.Generic;

namespace iSukces.UnitedValues;

// -----===== autogenerated code =====-----
// ReSharper disable All
// generator: FractionUnitGenerator
public sealed partial class DensityUnit : IFractionalUnit<MassUnit, VolumeUnit>, IEquatable<DensityUnit>, IDecomposableUnit
{
    /// <summary>
    /// creates instance of DensityUnit
    /// </summary>
    /// <param name="counterUnit">counter unit</param>
    /// <param name="denominatorUnit">denominator unit</param>
    public DensityUnit(MassUnit counterUnit, VolumeUnit denominatorUnit)
    {
        CounterUnit = counterUnit;
        DenominatorUnit = denominatorUnit;
    }

    public IReadOnlyList<DecomposableUnitItem> Decompose()
    {
        // generator : FractionUnitGenerator.Add_Decompose
        var denominatorUnit = DenominatorUnit.GetBasicUnit();
        return new []
        {
            new DecomposableUnitItem(CounterUnit, 1),
            new DecomposableUnitItem(denominatorUnit.Unit, -denominatorUnit.Power)
        };
        /*
        var decomposer = new UnitDecomposer();
        decomposer.Add(CounterUnit, 1);
        decomposer.Add(DenominatorUnit, -1);
        return decomposer.Items;
        */
    }

    public bool Equals(DensityUnit? other)
    {
        // generator : FractionUnitGenerator
        return CounterUnit.Equals(other?.CounterUnit) && DenominatorUnit.Equals(other?.DenominatorUnit);
    }

    public override bool Equals(object? other)
    {
        // generator : FractionUnitGenerator
        return other is DensityUnit value && Equals(value);
    }

    public override int GetHashCode()
    {
        unchecked
        {
            return (CounterUnit.GetHashCode() * 397) ^ DenominatorUnit.GetHashCode();
        }
    }

    /// <summary>
    /// Returns unit name
    /// </summary>
    public override string ToString()
    {
        return UnitName;
    }

    public DensityUnit WithCounterUnit(MassUnit newUnit)
    {
        // generator : FractionUnitGenerator.Add_WithSecond
        return new DensityUnit(newUnit, DenominatorUnit);
    }

    public DensityUnit WithDenominatorUnit(VolumeUnit newUnit)
    {
        // generator : FractionUnitGenerator.Add_WithFirst
        return new DensityUnit(CounterUnit, newUnit);
    }

    /// <summary>
    /// Equality operator
    /// </summary>
    /// <param name="left">first value to compare</param>
    /// <param name="right">second value to compare</param>
    public static bool operator ==(DensityUnit left, DensityUnit right)
    {
        return left.Equals(right);
    }

    /// <summary>
    /// Inequality operator
    /// </summary>
    /// <param name="left">first value to compare</param>
    /// <param name="right">second value to compare</param>
    public static bool operator !=(DensityUnit left, DensityUnit right)
    {
        return !left.Equals(right);
    }

    /// <summary>
    /// counter unit
    /// </summary>
    public MassUnit CounterUnit { get; }

    /// <summary>
    /// denominator unit
    /// </summary>
    public VolumeUnit DenominatorUnit { get; }

    public string UnitName => CounterUnit.UnitName + "/" + DenominatorUnit.UnitName;

}
